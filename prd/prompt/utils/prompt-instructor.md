## Overview

- 프롬프트는 사용자가 AI를 제어하는 코드다. 따라서 인간이 쉽게 이해하고 수정할 수 있는 구조로 작성되어야 한다.
- 사용자가 제공한 프롬프트를 표준화된 템플릿 구조로 변환하여 AI가 명확하게 이해하고 실행할 수 있도록 개선한다.
- 각 프롬프트는 독립적인 함수처럼 작동하며, 명확한 입력과 출력, 구체적인 실행 단계를 포함해야 한다.

## Input

### 필수 문서

- **원본 프롬프트**: 사용자가 작성한 초안 프롬프트 (구조화되지 않은 상태)
  - 파일이 존재하지 않으면 작업을 중단하고 사용자에게 알린다.

### 참고 문서

- `vision/prompt/utils/devils-advocate.md`: devil's advocate 가이드라인
- `vision/prompt/utils/writing-editor.md`: writing-editor 가이드라인

## Output

- **표준화된 프롬프트**: 아래 템플릿 구조를 준수하는 완성된 프롬프트

### 표준 템플릿 구조

모든 프롬프트는 다음 4개 섹션을 필수로 포함한다:

```markdown
## Overview

[프롬프트의 명확한 목적과 달성하고자 하는 결과]

- 결과1
- 결과2

## Input

### 필수 문서

- **문서명**: 파일 경로 및 설명
  - 파일이 존재하지 않으면 작업을 중단하고 사용자에게 알린다.

### 참고 문서

- **문서명**: 파일 경로 및 설명 (선택사항)

## Output

[기대되는 출력 형태와 품질 기준을 명확히 정의]

## Step

**중요: 각 단계는 반드시 순차적으로 완료해야 한다. 한 번에 여러 단계를 진행하지 않는다. 각 단계 완료 후 중간 결과를 확인하고 다음 단계로 진행한다.**

### 1단계: Input 파일 분석 및 검증

**실행 규칙:**

- 이 단계만 먼저 완료한다. 다른 단계로 진행하지 않는다.
- 필수 문서와 참고 문서를 구분하여 분석한다.

**작업 내용:**

- [Input 파일 분석 작업 내용]

**완료 조건:**

- [1단계 완료 조건]

### 2단계: [단계명]

**실행 규칙:**

- [2단계 실행 규칙]

**작업 내용:**

- [2단계 작업 내용]

**완료 조건:**

- [2단계 완료 조건]

## 실행 원칙

### 단계별 진행 규칙

1. **순차 실행**: 각 단계는 반드시 이전 단계가 완료된 후에만 시작한다.
2. [추가 진행 규칙]

### 금지 사항

- [금지 사항 1]
- [금지 사항 2]
```

#### 작성 규칙

- 각 섹션은 구체적이고 실행 가능한 내용으로 작성
- 세부 지침은 ### ~ #### 마크다운 문법 활용
- 모호한 표현 금지, 측정 가능한 기준 제시

## Step

**중요: 각 단계는 반드시 순차적으로 완료해야 한다. 한 번에 여러 단계를 진행하지 않는다. 각 단계 완료 후 중간 결과를 확인하고 다음 단계로 진행한다.**

### 1단계: Input 파일 분석 및 검증

**실행 규칙:**

- 이 단계만 먼저 완료한다. 다른 단계로 진행하지 않는다.
- 필수 문서와 참고 문서를 구분하여 분석한다.

**작업 내용:**

- 원본 프롬프트 파일이 존재하는지 확인하고, 파일을 읽어 사용자 의도를 파악한다.
  - 프롬프트가 해결하려는 문제를 식별한다.
  - 현재 구조를 점검한다: Goal, Input, Output, Task 요소 존재 여부 확인
  - 누락 요소를 식별한다: 불명확하거나 빠진 정보 목록화
- 참고 문서가 제공된 경우, 관련 템플릿이나 가이드라인을 확인한다.
- 분석 결과를 정리하고 다음 단계를 위한 준비를 완료한다.

**완료 조건:**

- 원본 프롬프트 파일 분석 완료
- 필수 문서와 참고 문서 구분 완료
- 사용자 의도 파악 완료
- 현재 구조 및 누락 요소 식별 완료

### 2단계: 템플릿 적용 및 구조화

**실행 규칙:**

- 1단계가 완료된 후에만 시작한다.
- 이 단계만 먼저 완료한다. 다른 단계로 진행하지 않는다.

**작업 내용:**

- Overview 섹션: 구체적이고 측정 가능한 목표로 재작성
- Input 섹션: 필요한 입력 데이터 형태와 조건을 명시하며, 필수 문서와 참고 문서로 구분
- Output 섹션: 기대 결과물의 형태와 품질 기준을 정의
- Step 섹션: 실행 가능한 단계별 프로세스로 구성

**완료 조건:**

- Overview 섹션 작성 완료
- Input 섹션 작성 완료 (필수/참고 문서 구분 포함)
- Output 섹션 작성 완료
- Step 섹션 작성 완료

### 3단계: 품질 검증

**실행 규칙:**

- 2단계가 완료된 후에만 시작한다.
- 이 단계만 먼저 완료한다. 다른 단계로 진행하지 않는다.

**작업 내용:**

- 실행 가능성 검증: 각 단계가 구체적이고 목적에 부합한지 확인
- Devil's Advocate 방법론에 기반한 비판적 검토 수행
- 발견된 문제점을 수용하여 Step 섹션을 개선한다.

**완료 조건:**

- 실행 가능성 검증 완료
- 비판적 검토 완료
- Step 섹션 개선 완료

### 4단계: 교정

**실행 규칙:**

- 3단계가 완료된 후에만 시작한다.
- 이 단계만 먼저 완료한다. 다른 단계로 진행하지 않는다.

**작업 내용:**

- 톤앤매너 적용: 평어체, 객관적 표현 사용
- 문장 교정: writing-editor 가이드라인으로 1회 교정

**완료 조건:**

- 톤앤매너 적용 완료
- 문장 교정 완료

### 5단계: 결과 제공 및 피드백

**실행 규칙:**

- 4단계가 완료된 후에만 시작한다.
- 최종 결과 제공만 수행한다.

**작업 내용:**

- 개선된 프롬프트를 원본 파일에 저장
- 추가 수정 필요 사항에 대한 사용자 검토 요청

**완료 조건:**

- 개선된 프롬프트 파일 저장 완료
- 사용자에게 결과 제공 및 피드백 요청 완료

## 실행 원칙

### 단계별 진행 규칙

1. **순차 실행**: 각 단계는 반드시 이전 단계가 완료된 후에만 시작한다.
2. **단계별 완료**: 각 단계는 완료 조건을 충족한 후에만 다음 단계로 진행한다.
3. **중간 확인**: 각 단계 완료 후 중간 결과를 확인하고 다음 단계로 진행한다.
4. **검증 필수**: 각 단계 완료 후 다음 단계로 진행하기 전에 완료 조건을 확인한다.

### 금지 사항

- 한 번에 여러 단계를 동시에 진행하지 않는다.
- 단계 완료 전에 다음 단계로 진행하지 않는다.
- 필수 문서 확인 없이 작업을 진행하지 않는다.

### 작성 원칙

#### 톤앤매너

- 평어체 사용 (존댓말 금지)
- 객관적이고 구체적인 표현
- 감성적 수식어 배제
- 실행 중심의 명령형 문체

#### 품질 기준

- 각 문장은 명확한 행동이나 결과를 지시
- 모호한 표현 금지 ("적절히", "잘", "좋게" 등)
- 측정 가능한 기준 제시
- 실행 순서가 논리적으로 연결
