## Overview

프롬프트 문서의 특정 부분을 검토하고 가이드라인을 준수하도록 수정한 후, 문서 전체와의 일관성을 검증한다.

- 프롬프트 문서의 지정된 라인 범위를 검토한다.
- 가이드라인 준수 여부를 확인하고 수정한다.
- 수정된 부분이 문서 전체 흐름과 일관성을 유지하는지 검증한다.

## Input

### 필수 문서

- **대상 프롬프트 문서**: 사용자가 지정한 프롬프트 파일 경로
  - 파일이 존재하지 않으면 작업을 중단하고 사용자에게 알린다.

### 참고 문서
- `vision/prompt/utils/prompt-instructor.md`: 프롬프트 가이드라인
- `vision/prompt/utils/writing-editor.md`: 문장 교정 가이드라인

## Output

- **수정된 프롬프트 문서**: 가이드라인을 준수하도록 수정된 프롬프트 파일
  - 지정된 라인 범위가 가이드라인을 준수하도록 수정된다.
  - 문서 전체와의 일관성이 유지된다.
  - 톤앤매너가 일관되게 적용된다.

## Step

**중요: 각 단계는 반드시 순차적으로 완료해야 한다. 한 번에 여러 단계를 진행하지 않는다. 각 단계 완료 후 중간 결과를 확인하고 다음 단계로 진행한다.**

### 1단계: 문서 및 가이드라인 분석

**실행 규칙:**

- 이 단계만 먼저 완료한다. 다른 단계로 진행하지 않는다.
- 필수 문서와 참고 문서를 구분하여 분석한다.

**작업 내용:**

- 대상 프롬프트 문서가 존재하는지 확인하고 파일을 읽는다.
- 가이드라인 문서를 읽어 톤앤매너 및 작성 원칙을 파악한다.
  - 평어체 사용, 객관적 표현, 모호한 표현 금지 등 원칙 확인
  - 문서 전반의 톤앤매너 패턴 확인
- 사용자가 지정한 라인 범위의 내용을 분석한다.
  - 현재 표현 방식 확인
  - 가이드라인 위반 사항 식별
  - 문서 내 유사한 패턴과 비교

**완료 조건:**

- 대상 프롬프트 문서 분석 완료
- 가이드라인 문서 분석 완료
- 지정된 라인 범위 내용 분석 완료
- 가이드라인 위반 사항 식별 완료

### 2단계: 수정 사항 도출

**실행 규칙:**

- 1단계가 완료된 후에만 시작한다.
- 이 단계만 먼저 완료한다. 다른 단계로 진행하지 않는다.

**작업 내용:**

- 가이드라인 위반 사항을 수정 방안으로 변환한다.
  - 존댓말을 평어체로 변경
  - 모호한 표현("요약하여", "명확히", "적절히" 등) 제거 또는 구체화
  - 문서 전반의 톤앤매너 패턴과 일치하도록 조정
- 문서 내 유사한 표현 패턴을 확인하여 일관성을 유지한다.
- 수정 방안을 구체화한다.

**완료 조건:**

- 수정 방안 도출 완료
- 문서 전반 패턴과의 일관성 확인 완료

### 3단계: 수정 실행

**실행 규칙:**

- 2단계가 완료된 후에만 시작한다.
- 이 단계만 먼저 완료한다. 다른 단계로 진행하지 않는다.

**작업 내용:**

- 2단계에서 도출한 수정 방안에 따라 대상 프롬프트 문서를 수정한다.
- 수정 후 Lint 오류를 확인한다.
  - `read_lints` 도구를 사용하여 오류를 확인한다.
  - 발견된 오류를 모두 수정한다.

**완료 조건:**

- 대상 프롬프트 문서 수정 완료
- Lint 오류 없음

### 4단계: 문서 전체 흐름 검증

**실행 규칙:**

- 3단계가 완료된 후에만 시작한다.
- 이 단계만 먼저 완료한다. 다른 단계로 진행하지 않는다.

**작업 내용:**

- 수정된 부분이 문서 전체와 일관성을 유지하는지 검증한다.
  - 수정된 부분 주변 맥락 확인
  - 관련된 완료 조건과의 일관성 확인
  - 실행 규칙과의 일관성 확인
  - 문서 내 유사한 표현 패턴과의 일관성 확인
- 문서 전체에서 유사한 표현을 검색하여 패턴 일관성을 확인한다.
- 발견된 불일치 사항이 있으면 수정한다.

**완료 조건:**

- 문서 전체 흐름 검증 완료
- 일관성 확인 완료
- 필요시 추가 수정 완료

### 5단계: 결과 확인 및 보고

**실행 규칙:**

- 4단계가 완료된 후에만 시작한다.
- 최종 결과 확인 및 보고만 수행한다.

**작업 내용:**

- 수정된 내용을 확인한다.
- 검증 결과를 정리하여 사용자에게 보고한다.
  - 수정 사항 요약
  - 문서 전체 흐름 검증 결과
  - 일관성 유지 여부 확인

**완료 조건:**

- 수정 내용 확인 완료
- 검증 결과 보고 완료

## 실행 원칙

### 단계별 진행 규칙

1. **순차 실행**: 각 단계는 반드시 이전 단계가 완료된 후에만 시작한다.
2. **단계별 완료**: 각 단계는 완료 조건을 충족한 후에만 다음 단계로 진행한다.
3. **중간 확인**: 각 단계 완료 후 중간 결과를 확인하고 다음 단계로 진행한다.
4. **일관성 우선**: 수정 시 문서 전체와의 일관성을 최우선으로 고려한다.

### 금지 사항

- 한 번에 여러 단계를 동시에 진행하지 않는다.
- 단계 완료 전에 다음 단계로 진행하지 않는다.
- 필수 문서 확인 없이 작업을 진행하지 않는다.
- 문서 전체 맥락을 고려하지 않고 부분만 수정하지 않는다.

### 작성 원칙

#### 톤앤매너

- 평어체 사용 (존댓말 금지)
- 객관적이고 구체적인 표현
- 감성적 수식어 배제
- 실행 중심의 명령형 문체

#### 품질 기준

- 각 문장은 명확한 행동이나 결과를 지시
- 모호한 표현 금지 ("적절히", "잘", "좋게", "요약하여", "명확히" 등)
- 측정 가능한 기준 제시
- 문서 전반의 톤앤매너 일관성 유지
